---
import Layout from "../layouts/Layout.astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout 
    title="404 | Page Not Found - Isaac Martinez"
    description="The page you're looking for doesn't exist. Navigate back to Isaac Martinez's portfolio."
    noindex={true}
>
    <div class="min-h-[70vh] flex items-center justify-center py-12 sm:py-20">
        <div class="w-full max-w-2xl mx-auto">
            <!-- Terminal Window -->
            <div
                class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden"
            >
                <!-- Window Header -->
                <div
                    class="bg-gray-100 dark:bg-gray-900 px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"
                >
                    <div class="flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-red-400"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                        <div class="w-3 h-3 rounded-full bg-green-400"></div>
                    </div>
                    <div
                        class="text-xs text-gray-500 dark:text-gray-400 font-mono flex items-center gap-2"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            class="h-3 w-3"
                            viewBox="0 0 20 20"
                            fill="currentColor"
                        >
                            <path
                                fill-rule="evenodd"
                                d="M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 9 5.293 6.707a1 1 0 010-1.414zM9 10a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z"
                                clip-rule="evenodd"></path>
                        </svg>
                        error.sh
                    </div>
                    <div class="w-12"></div>
                </div>

                <!-- Terminal Content -->
                <div class="p-6 sm:p-8 font-mono text-sm">
                    <!-- Error Output -->
                    <div class="space-y-3 text-gray-600 dark:text-gray-400">
                        <p>
                            <span class="text-green-600 dark:text-green-400"
                                >$</span
                            >
                            <span class="text-gray-800 dark:text-gray-200">
                                cd /requested/page</span
                            >
                        </p>
                        <p class="text-red-500 dark:text-red-400">
                            bash: cd: /requested/page: {t("notFound.error")}
                        </p>
                        <p>
                            <span class="text-green-600 dark:text-green-400"
                                >$</span
                            >
                            <span class="text-gray-800 dark:text-gray-200">
                                echo $?</span
                            >
                        </p>
                        <p class="text-yellow-600 dark:text-yellow-400">404</p>
                    </div>

                    <!-- Big 404 -->
                    <div class="my-8 sm:my-12 text-center">
                        <h1
                            class="text-7xl sm:text-9xl font-bold text-gray-200 dark:text-gray-700 select-none"
                        >
                            404
                        </h1>
                        <p
                            class="text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white -mt-4 sm:-mt-6"
                        >
                            {t("notFound.title")}
                        </p>
                    </div>

                    <!-- Suggestion -->
                    <div class="space-y-3 text-gray-600 dark:text-gray-400">
                        <p class="text-gray-500 dark:text-gray-500">
                            # {t("notFound.suggestion")}
                        </p>
                        <p>
                            <span class="text-green-600 dark:text-green-400"
                                >$</span
                            >
                            <span class="text-gray-800 dark:text-gray-200">
                                {t("notFound.command")}</span
                            >
                            <span
                                class="inline-block w-2 h-4 bg-gray-800 dark:bg-gray-200 ml-1 animate-pulse"
                            ></span>
                        </p>
                    </div>

                    <!-- Action Buttons -->
                    <div
                        class="mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4 font-sans"
                    >
                        <a
                            href={lang === "en" ? "/" : `/${lang}`}
                            class="flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg font-semibold hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                            >
                                <path
                                    d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"
                                ></path>
                            </svg>
                            {t("notFound.goHome")}
                        </a>
                        <button
                            onclick="history.back()"
                            class="flex-1 inline-flex items-center justify-center gap-2 px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-semibold hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                            >
                                <path
                                    fill-rule="evenodd"
                                    d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z"
                                    clip-rule="evenodd"></path>
                            </svg>
                            {t("notFound.goBack")}
                        </button>
                    </div>
                </div>
            </div>

            <!-- Status Badge -->
            <div class="mt-6 flex justify-center">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 text-xs font-semibold"
                >
                    <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"
                    ></span>
                    ERROR 404
                </div>
            </div>
        </div>
    </div>
</Layout>
