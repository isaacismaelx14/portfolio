---
import Layout from "../../common/layouts/Layout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import Section from "../../common/components/Section.astro";
import PageHeader from "../../common/components/PageHeader.astro";
import { getLocalizedProjects } from "../../../data/projects";
import { getPageDescription } from "../../../data/about";
import { useTranslations } from "../../../i18n/utils";
import type { Lang } from "../../../types";
import SpinnerIcon from "../../common/components/icons/SpinnerIcon.astro";

interface Props {
    lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const projects = getLocalizedProjects(lang);
const pageDescription = getPageDescription("projects", lang);
---

<Layout
    title={`${t("projects.title")} | Isaac Martinez`}
    description={pageDescription}
>
    <Section first>
        <PageHeader
            title={t("projects.title")}
            badgeText={t("projects.badge")}
            badgeColor="yellow"
        >
            <SpinnerIcon slot="icon" class="animate-spin h-4 w-4" />
        </PageHeader>

        <p
            class="text-lg sm:text-xl text-gray-500 dark:text-gray-400 mb-8 sm:mb-12 max-w-3xl"
        >
            {t("projects.desc")}
        </p>

        <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8"
        >
            {projects.map((project) => <ProjectCard {...project} />)}
        </div>
    </Section>
</Layout>
