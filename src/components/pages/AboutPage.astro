---
import Layout from "../../layouts/Layout.astro";
import Section from "../Section.astro";
import { useTranslations } from "../../i18n/utils";

interface Props {
    lang: "en" | "es";
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const experience = [
    {
        year: "Jun 2025 - Present",
        title: "Software Architect",
        company: "WGSN Â· Full-time Â· Remote",
        description:
            "Maintained and optimized an internal predictive model that manages company data and delivers actionable forecasts and insights from business reports. Developed an AWS Lambda service with WebSocket streaming to enable real-time chatbot responses, enhancing both performance and security. Collaborated with cross-functional teams to document processes, resolve challenges in model development, and implement scalable, data-driven solutions.",
        skills: ["Software Architecture", "React", "AWS", "TypeScript"],
    },
    {
        year: "Oct 2023 - Present",
        title: "CEO & Co-Founder",
        company: "ZitDevs Â· Part-time Â· Remote",
        description:
            "Leading a development company focused on delivering impactful technological solutions. Building a team of passionate developers creating innovative products and services.",
        skills: ["Leadership", "Product Strategy", "Team Building"],
    },
    {
        year: "Apr 2024 - May 2025",
        title: "Software Engineer",
        company: "VPM Solutions Â· Full-time Â· Remote",
        description:
            "Contributed to the continuous improvement of the VPM Solutions platform by maintaining the codebase and developing new features to enhance overall functionality and user experience. Improved the candidate search functionality by implementing an optimized sorting system to surface the most relevant profiles. Built custom reports and visual dashboards to help company owners gain better insights into their business performance. Worked extensively on the internal admin panel, building tools and views for the Admin, Support, and Marketing teams with real-time data displays, charts, and reports.",
        skills: ["Vue.js", "Express.js", "MySQL", "GraphQL", "Full-Stack Development"],
    },
    {
        year: "Apr 2022 - Apr 2024",
        title: "Full Stack Engineer â†’ Team Lead",
        company: "Minnek Digital Studio Â· Full-time",
        description:
            "Progressed through multiple roles over 2 years, from Full Stack Engineer to Team Lead.",
        isGrouped: true,
        positions: [
            {
                year: "Oct 2023 - Apr 2024",
                title: "Team Lead - Full Stack Engineer",
                description: "Led a dynamic team of three software engineering professionals. Achieved significant improvements in performance and code maintainability for prominent clients like Your Store Wizards and Conectando. Focused on fostering a collaborative and continuous learning environment.",
            },
            {
                year: "Jul 2023 - Dec 2023",
                title: "SE2 (Mid) Full Stack Engineer",
                description: "Developed full-stack solutions using modern technologies and best practices. Contributed to various client projects with focus on code quality and responsiveness.",
            },
            {
                year: "Apr 2022 - Jul 2023",
                title: "Full Stack Engineer",
                description: "Developed E-Commerce pages for BigCommerce. Created Cominnek, a CLI tool for Conventional Commits linked to Jira tickets. Built internal dashboards using Vue, Express, and MongoDB.",
            },
        ],
        skills: ["Next.js", "NestJS", "TypeScript", "Go", "BigCommerce", "Vue.js", "Team Leadership"],
    },
    {
        year: "Apr 2022 - Jul 2023",
        title: "Full Stack Engineer",
        company: "Your Store Wizards Â· Full-time Â· Remote",
        description:
            "Developed BigCommerce solutions and e-commerce pages with focus on performance and user experience.",
        skills: ["HTML5", "JavaScript", "BigCommerce", "SASS", "SQL"],
    },
    {
        year: "Aug 2020 - Mar 2021",
        title: "Web Application Developer",
        company: "Self-employed",
        description:
            "Developed various web applications and software solutions for clients. Built landing pages and basic desktop applications while working directly with clients to gather requirements and deliver customized solutions.",
        skills: ["Front-End Development", "JavaScript", "HTML", "CSS"],
    },
];

const education = [
    {
        year: "2026 (Expected)",
        title: "Bachelor's Degree in Software Engineering",
        company: "Universidad Abierta para Adultos (UAPA)",
        description:
            "Relevant Coursework: Software Development, Database Management, Web Technologies",
    },
    {
        year: "2022",
        title: "Effective Communication for Leads",
        company: "Platzi",
        description: "",
    },
    {
        year: "2021",
        title: "Certificate in Introduction to Programming",
        company: "Instituto TecnolÃ³gico de Las AmÃ©ricas (ITLA)",
        description: "",
    },
    {
        year: "2020",
        title: "Diploma in Network Technician",
        company: "PolitÃ©cnico Hermana Josefina Serrano",
        description: "",
    },
    {
        year: "2016 - 2021",
        title: "English",
        company: "Instituto Utesiano de Idiomas (IUI)",
        description: "",
    },
];

const skills = [
    { name: "Node.js", years: "+9y" },
    { name: "TypeScript", years: "+7y" },
    { name: "React", years: "+6y" },
    { name: "Next.js", years: "+5y" },
    { name: "AWS", years: "+4y" },
    { name: "Vue.js", years: "+3y" },
    { name: "NestJS", years: "" },
    { name: "Express.js", years: "" },
    { name: "GraphQL", years: "" },
    { name: "Go", years: "" },
    { name: "PostgreSQL", years: "" },
    { name: "MySQL", years: "" },
    { name: "MongoDB", years: "" },
    { name: "Docker", years: "" },
    { name: "BigCommerce", years: "" },
    { name: "Tailwind CSS", years: "" },
];

const languagesList = [
    { name: "Spanish", level: "Native", flag: "ðŸ‡©ðŸ‡´" },
    { name: "English", level: "Fluent", flag: "ðŸ‡ºðŸ‡¸" },
];

const pageDescription = lang === "es" 
    ? "Conoce a Isaac Martinez - Arquitecto de Software con mÃ¡s de 9 aÃ±os de experiencia en Node.js, TypeScript, AWS e IA. Revisa mi experiencia, habilidades y educaciÃ³n."
    : "Meet Isaac Martinez - Software Architect with 9+ years of experience in Node.js, TypeScript, AWS, and AI. View my experience, skills, and education.";
---

<Layout 
    title={`${t("about.title")} | Isaac Martinez`}
    description={pageDescription}
    type="profile"
>
    <Section maxWidth="6xl" first>
        <!-- Header with Terminal Style -->
        <div class="mb-8 sm:mb-12">
            <div class="flex items-center gap-3 mb-4">
                <div 
                    class="flex items-center gap-2 px-3 py-1.5 rounded-md bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"
                    style="view-transition-name: run-btn;"
                >
                    <svg class="animate-spin h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    <span class="font-semibold text-xs">{t("about.badge")}</span>
                </div>
            </div>
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4">
                {t("about.title")}
            </h1>
        </div>

        <!-- Bio Terminal Window -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8 sm:mb-12">
            <!-- Window Header -->
            <div class="bg-gray-100 dark:bg-gray-900 px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
                <div class="flex gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-400"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                    <div class="w-3 h-3 rounded-full bg-green-400"></div>
                </div>
                <div class="text-xs text-gray-500 dark:text-gray-400 font-mono">about.md</div>
                <div class="w-12"></div>
            </div>
            
            <!-- Content -->
            <div class="p-6 sm:p-8">
                <blockquote class="text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-6 pl-4 border-l-4 border-blue-500">
                    "{t("about.quote")}"
                </blockquote>
                <div class="space-y-4 text-gray-600 dark:text-gray-400 leading-relaxed">
                    <p>{t("about.p1")}</p>
                    <p>{t("about.p2")}</p>
                    <p>{t("about.p3")}</p>
                </div>
            </div>
        </div>

        <!-- Two Column Layout -->
        <div class="grid lg:grid-cols-2 gap-6 sm:gap-8 mb-8 sm:mb-12">
            <!-- Skills Terminal -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden">
                <div class="bg-gray-100 dark:bg-gray-900 px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
                    <div class="flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-red-400"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                        <div class="w-3 h-3 rounded-full bg-green-400"></div>
                    </div>
                    <div class="text-xs text-gray-500 dark:text-gray-400 font-mono">skills.json</div>
                    <div class="w-12"></div>
                </div>
                <div class="p-4 sm:p-6">
                    <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                        <span class="text-green-500">$</span> {t("about.skills")}
                    </h2>
                    <div class="grid grid-cols-2 gap-2">
                        {skills.map((skill) => (
                            <div class="flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-900 border border-gray-100 dark:border-gray-700 font-mono text-sm">
                                <span class="text-gray-800 dark:text-gray-200">{skill.name}</span>
                                {skill.years && (
                                    <span class="text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded">
                                        {skill.years}
                                    </span>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            </div>

            <!-- Languages Terminal -->
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden h-fit">
                <div class="bg-gray-100 dark:bg-gray-900 px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
                    <div class="flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-red-400"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                        <div class="w-3 h-3 rounded-full bg-green-400"></div>
                    </div>
                    <div class="text-xs text-gray-500 dark:text-gray-400 font-mono">languages.config</div>
                    <div class="w-12"></div>
                </div>
                <div class="p-4 sm:p-6">
                    <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                        <span class="text-green-500">$</span> {t("about.languages")}
                    </h2>
                    <div class="space-y-3">
                        {languagesList.map((language) => (
                            <div class="flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-900 border border-gray-100 dark:border-gray-700">
                                <div class="flex items-center gap-3">
                                    <span class="text-2xl">{language.flag}</span>
                                    <span class="font-semibold text-gray-900 dark:text-white">{language.name}</span>
                                </div>
                                <span class="text-sm text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded font-mono">
                                    {language.level}
                                </span>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        </div>

        <!-- Experience Timeline Terminal -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8 sm:mb-12">
            <div class="bg-gray-100 dark:bg-gray-900 px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
                <div class="flex gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-400"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                    <div class="w-3 h-3 rounded-full bg-green-400"></div>
                </div>
                <div class="text-xs text-gray-500 dark:text-gray-400 font-mono">experience.log</div>
                <div class="w-12"></div>
            </div>
            <div class="p-4 sm:p-6">
                <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2">
                    <span class="text-green-500">$</span> git log --oneline {t("about.experience").toLowerCase()}
                </h2>
                <div class="space-y-6">
                    {experience.map((item) => (
                        <div class="relative pl-6 pb-6 border-l-2 border-gray-200 dark:border-gray-700 last:border-transparent last:pb-0">
                            <div class="absolute left-0 top-0 w-3 h-3 -translate-x-[7px] rounded-full bg-blue-500 border-2 border-white dark:border-gray-800"></div>
                            <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 mb-2">
                                <span class="text-xs font-mono bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded w-fit whitespace-nowrap">
                                    {item.year}
                                </span>
                                <h3 class="font-bold text-gray-900 dark:text-white">{item.title}</h3>
                            </div>
                            <p class="text-sm font-semibold text-blue-600 dark:text-blue-400 mb-2">{item.company}</p>
                            
                            {/* Grouped positions (e.g., Minnek career progression) */}
                            {item.isGrouped && item.positions ? (
                                <div class="mt-3 space-y-3">
                                    {item.positions.map((pos, idx) => (
                                        <div class="relative pl-4 border-l-2 border-blue-200 dark:border-blue-800">
                                            <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-1">
                                                <span class="text-[10px] font-mono text-gray-500 dark:text-gray-400 whitespace-nowrap">
                                                    {pos.year}
                                                </span>
                                                <span class="text-sm font-semibold text-gray-800 dark:text-gray-200">
                                                    {pos.title}
                                                </span>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-400">{pos.description}</p>
                                        </div>
                                    ))}
                                </div>
                            ) : (
                                item.description && (
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">{item.description}</p>
                                )
                            )}
                            
                            {item.skills && item.skills.length > 0 && (
                                <div class="flex flex-wrap gap-1.5 mt-3">
                                    {item.skills.map((skill) => (
                                        <span class="text-xs px-2 py-0.5 rounded bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-medium">
                                            {skill}
                                        </span>
                                    ))}
                                </div>
                            )}
                        </div>
                    ))}
                </div>
            </div>
        </div>

        <!-- Education Timeline Terminal -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden">
            <div class="bg-gray-100 dark:bg-gray-900 px-4 py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
                <div class="flex gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-400"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
                    <div class="w-3 h-3 rounded-full bg-green-400"></div>
                </div>
                <div class="text-xs text-gray-500 dark:text-gray-400 font-mono">education.log</div>
                <div class="w-12"></div>
            </div>
            <div class="p-4 sm:p-6">
                <h2 class="text-lg font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2">
                    <span class="text-green-500">$</span> git log --oneline {t("about.education").toLowerCase()}
                </h2>
                <div class="space-y-4">
                    {education.map((item) => (
                        <div class="relative pl-6 pb-4 border-l-2 border-gray-200 dark:border-gray-700 last:border-transparent last:pb-0">
                            <div class="absolute left-0 top-0 w-3 h-3 -translate-x-[7px] rounded-full bg-green-500 border-2 border-white dark:border-gray-800"></div>
                            <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-3 mb-2">
                                <span class="text-xs font-mono bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded w-fit">
                                    {item.year}
                                </span>
                                <h3 class="font-bold text-gray-900 dark:text-white">{item.title}</h3>
                            </div>
                            <p class="text-sm font-semibold text-green-600 dark:text-green-400">{item.company}</p>
                            {item.description && (
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">{item.description}</p>
                            )}
                        </div>
                    ))}
                </div>
            </div>
        </div>
    </Section>
</Layout>
