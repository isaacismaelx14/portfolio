---
interface Props {
    path?: string;
}

const { path = "" } = Astro.props;
const targetPath = path ? `/${path}` : "";
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Isaac Martinez</title>
        <meta name="robots" content="noindex" />
        <style>
            html, body { margin: 0; padding: 0; background: #fff; }
            @media (prefers-color-scheme: dark) { html, body { background: #111827; } }
        </style>
        <script is:inline define:vars={{ targetPath }}>
            (function() {
                var saved = null;
                try { saved = localStorage.getItem("preferred-lang"); } catch(e) {}
                var browser = (navigator.language || "en").split("-")[0];
                var lang = saved || (browser === "es" ? "es" : "en");
                window.location.replace("/" + lang + targetPath);
            })();
        </script>
        <noscript>
            <meta http-equiv="refresh" content={`0;url=/en${targetPath}`} />
        </noscript>
    </head>
    <body></body>
</html>
