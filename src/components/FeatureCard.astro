---
interface Props {
    title: string;
    description: string;
    stack?: string[];
}

const { title, description, stack = [] } = Astro.props;
---

<div
    class="group relative h-full bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 overflow-hidden hover:border-blue-500/50 dark:hover:border-blue-400/50 transition-colors duration-300"
>
    <!-- Grid Background -->
    <div
        class="absolute inset-0 bg-grid-slate-100 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))] dark:bg-grid-slate-700/25 dark:[mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.5))]"
        style="background-size: 20px 20px;"
    >
    </div>

    <!-- Header -->
    <div
        class="relative flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-900/80 backdrop-blur-sm"
    >
        <div class="flex items-center gap-2">
            <span class="relative flex h-2 w-2">
                <span
                    class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"
                ></span>
                <span
                    class="relative inline-flex rounded-full h-2 w-2 bg-green-500"
                ></span>
            </span>
            <span
                class="text-xs font-mono text-gray-500 dark:text-gray-400 uppercase tracking-wider"
                >System Online</span
            >
        </div>
        <div class="text-gray-400 dark:text-gray-500">
            <slot name="icon" />
        </div>
    </div>

    <!-- Body -->
    <div class="relative p-5 flex flex-col h-[calc(100%-49px)]">
        <h3
            class="font-mono text-lg font-bold text-gray-900 dark:text-white mb-3 tracking-tight"
        >
            {title}
        </h3>
        <p
            class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed mb-6 flex-grow"
        >
            {description}
        </p>

        <!-- Stack / Footer -->
        {
            stack.length > 0 && (
                <div class="mt-auto pt-4 border-t border-gray-100 dark:border-gray-800/50 border-dashed">
                    <div class="flex flex-wrap gap-2">
                        {stack.map((item) => (
                            <span class="text-[10px] font-mono px-1.5 py-0.5 rounded bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-700">
                                {item}
                            </span>
                        ))}
                    </div>
                </div>
            )
        }
    </div>
</div>
